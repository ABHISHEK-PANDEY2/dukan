<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DUKAN | LOGIN</title>
    <link
      rel="shortcut icon"
      href="./assets/dukan-gif.gif"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="./css/login.css" />
    <link href="http://fonts.cdnfonts.com/css/samarkan" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="navbar">
      <nav>
        <ul>
          <li class="logo">DUKAN</li>
          <div class="links">
            <li class="list-item">About us</li>
            <li class="list-item">Mission</li>
            <li class="list-item">Support</li>
            <li class="list-item">Company</li>
          </div>
          
        </ul>
      </nav>
      <hr />
    </div>
    <!-- main -->
    <div class="main">
      <div class="intro">
        <div class="main-text">
          <h3>GRAHAK</h3>
          <p class="def-text">
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Fuga,
            officia optio nostrum maxime quo nobis sit recusandae incidunt hic
            laboriosam numquam accusantium nulla corrupti repudiandae non
            mollitia aliquam ipsum! Exercitationem quisquam impedit alias natus
            ex nulla nobis quam magni fugiat et eos vel deleniti rem architecto
            animi maiores quos distinctio, fugit adipisci minus sint magnam!
            Nemo, voluptate quasi explicabo suscipit laborum necessitatibus
            cupiditate dolor ipsa, pariatur nihil exercitationem, unde
            recusandae dolores. Libero architecto modi ipsa omnis consequuntur
          </p>
        </div>
        <img src="./assets/grahak.png" alt="" />
      </div>
      <div class="btn">
        <button id="login" class="logout" onclick = "googleSignin()">Sign in with Google</button>
        <button id="signOut" class="logout" onclick = "googleSignout()">Log out</button>
      </div>
    </div>
  </body>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-analytics.js";
    import { getAuth, GoogleAuthProvider, signInWithRedirect, getRedirectResult } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-auth.js"
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // You web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDi3QvaawY3CSR9gn5jDiY5XyD0RXixEMw",
      authDomain: "dukaan-0001.firebaseapp.com",
      databaseURL: "https://dukaan-0001-default-rtdb.firebaseio.com",
      projectId: "dukaan-0001",
      storageBucket: "dukaan-0001.appspot.com",
      messagingSenderId: "911250519486",
      appId: "1:911250519486:web:f4e0355c55d8e752d7b5ef",
      measurementId: "G-212ZNZ7HF7"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    // const provider = new GoogleAuthProvider(app);
    const auth = getAuth(app);
    var provider = new firebase.auth.GoogleAuthProvider();
    login.addEventListener('click', (e) => {
    // function googleSignin() {
   firebase.auth()
   
   .signInWithPopup(provider).then(function(result) {
      var token = result.credential.accessToken;
      var user = result.user;
		
      console.log(token)
      console.log(user)
   }).catch(function(error) {
      var errorCode = error.code;
      var errorMessage = error.message;
		
      console.log(error.code)
      console.log(error.message)
   });
      
    });

  signOut.addEventListener('click',(e) => {

    // signOut(auth).then(() => {
    // // Sign-out successful.
    // }).catch((error) => {
    // // An error happened.
    // });
    function googleSignout() {
   firebase.auth().signOut()
	
   .then(function() {
      console.log('Signout Succesfull')
   }, function(error) {
      console.log('Signout Failed')  
   });
  }
  });



  </script>
  
</html>
